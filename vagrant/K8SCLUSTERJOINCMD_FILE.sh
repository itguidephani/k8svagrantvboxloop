#!/bin/bash
sudo systemctl restart kubelet
kubeadm join 192.168.56.10:6443 --token rz57ax.g5also91nfwl3ebc --discovery-token-ca-cert-hash sha256:2bab4e25502988b65838e02290a6b6b8aa44deb47ace559cda4ee101ad514175 
#startkubecertetc
apiVersion: v1
clusters:
- cluster:
    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCVENDQWUyZ0F3SUJBZ0lJZXNzR3ZVZ1dSMWd3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TkRFeU1UVXhOekV5TURaYUZ3MHpOREV5TVRNeE56RTNNRFphTUJVeApFekFSQmdOVkJBTVRDbXQxWW1WeWJtVjBaWE13Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLCkFvSUJBUURjNUlqSlZhNnlOeWh5ZGxaWG9XQVhZbDQ3SU5hL3NtMHU3VE9wWGlRQVhDYytDeWxQRlAzV2NsN2UKdEZEWVJqZmNKeGtRbGZuNHNpT3JON1VPaThMRmdBNnNsbnN6bU5ZTUtzWTdlR1JoZEJSa1IwS3VqbjQremRycQpYaEZuMVhnSGtQYW8vQTA5NkJqWmM3QW1ydXpURUhEcW0zVkswRFpYa3h0QTRwWFhPdk5TcjJUZXNvMTd2VjNhCnJmTEhGNHNZNmJUbWlBaEVWYnJKUmc3b08xaC81Rmp1TXFVNmlNQytLZThGKy95VFR2TXJXYUYxYVA4SUdGUkYKK1NLZmhQZnhPcE9OWm1jd2U0dzhNYWdKVEd4WFJISFFmVW1wd0ZmM2t0MWZ3YkdLdnVoTGMvbTdGSDVOT0U4UQptQVQ2blN5NTFmV0ZJY0toTG5vNXBpVm1nSlNmQWdNQkFBR2pXVEJYTUE0R0ExVWREd0VCL3dRRUF3SUNwREFQCkJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJTVlJHVWNNV0t0V0tmZC9pMnU1TU1nZkpwSjlUQVYKQmdOVkhSRUVEakFNZ2dwcmRXSmxjbTVsZEdWek1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQW4xYmtJS2l3ZApoWG4xM3NESklBVEorM2p4OU1lY1lIRm5sckM1WmtwNHRkelNBWFdZRXdsUHVmSmJXME8xYXk4WlZMaEprS2I4CnBFNGV5bEJJdWcrMSswZGdiN1lvK3JybHFFTmVPUXlyR2pDN0F1YS9TWjZPT2N3NnJiR1BxdFJqemhBK1VTeHUKc2tDUU05U0xOOEErVEszYzg5MXNQemJIb3JVcDRhY0l3UlJCQnIrTXRMTkFqRUZVVEZaVW5ha2JHVnVGUzhIVgp0K3B6WkNOSDQwZDZqNzM0d2VWZHpwQVRTcnU1bHk0QmJiRGJVdnYrNW9QMnc3bmtsQjZjL1ZueTBZYTRCSjVoClU0aXJRa2pGV0ZaTUM1SklIU29XZVdDQm5UTUNVMkVqVnhhS1MyZHlhanBmVDlPSUo5cmx5eHVRYUxmYkVkQSsKdGV5V1VaOStYTCtmCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    server: https://192.168.56.10:6443
  name: kubernetes
contexts:
- context:
    cluster: kubernetes
    user: kubernetes-admin
  name: kubernetes-admin@kubernetes
current-context: kubernetes-admin@kubernetes
kind: Config
preferences: {}
users:
- name: kubernetes-admin
  user:
    client-certificate-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURLVENDQWhHZ0F3SUJBZ0lJVWJVSkp0TTVzbUV3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TkRFeU1UVXhOekV5TURaYUZ3MHlOVEV5TVRVeE56RTNNRFphTUR3eApIekFkQmdOVkJBb1RGbXQxWW1WaFpHMDZZMngxYzNSbGNpMWhaRzFwYm5NeEdUQVhCZ05WQkFNVEVHdDFZbVZ5CmJtVjBaWE10WVdSdGFXNHdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDb1Axa0EKZXlQMWpWM2YwcmlQdnRkUDF0Q08yYkNMeEwxbEtMNXZLWnBub24rK1VHdVl1Q2JZM3gzRlg2d1Y2VVBkWDBUTQpSNnVPVnhmMWhQYVdwQXEzT3VPZVFoSStOb2IxMXJ2KzQ2RXA4TTVOdXdtMEdubHNiOVpIcDRUd0ZyTElsT1dtClN2a1gya0xtY1BORzBJR255Rm9mS1huL0ZBZ1hXZk9vdGxoMmc4aEFJWktKSm53dVhPdE1WRXpiSEt4OXVPR3UKMDhyaWEvcENON3k3bmpDVGdBQXZBUGdsc3ZwSG5ETFBKRVJacUdPdkdwd2RUZGlhd1Y4T2xEWUs1Q25ySXZaawptdEg3YXBZZTNwWnFYZmR5ZWo5OEtISDZUZC9BR3krSGF1YVdNemZ4MVVkQ2VNTUkyeVV6QUdXZ0JrL3J5dnhKCkpKR003dnh1NGdTWmRiUnJBZ01CQUFHalZqQlVNQTRHQTFVZER3RUIvd1FFQXdJRm9EQVRCZ05WSFNVRUREQUsKQmdnckJnRUZCUWNEQWpBTUJnTlZIUk1CQWY4RUFqQUFNQjhHQTFVZEl3UVlNQmFBRkpWRVpSd3hZcTFZcDkzKwpMYTdrd3lCOG1rbjFNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUJoZ2hCUmI0R05GeDlaODZHWFNpMEJLYmxCCmJ3TzFLMk1xR04wU2JoT0Q2dGJ0MDAxM2grV2xZVjk3dmRVWkY3TmhGd2xKSTJHSTU2M2NLU2NXajJtTHB5YU4KNC84WG1XbFlXWnBCRHY4c0ZCVmZ2ZU5SVVFlY3BpUCtVeE1tMDU2OGlSYTcxUmR0dHFlWEg0LytBUUc2cm92MwpJL0RBeXpnUjh4U20ySmR5NVB5d0RCQUZ3K01UbVdWTXc1RkVUYUFMZ0NoaGdyRll4WFlRQzloNUI0cWM2YktFCmlYeVJDR1hVWlVLcTg2YU5jV2txMm13WEtvSnlDR3E4aWtlclJkSzRCUElCTklaVUdZc2ZrTDZTNWVoTWZNNWIKVzUxZ1VHNVdQYmFuUFRGMzd4VzR4d3FVQy8vMm9ISmVqVHJaOVViNG9aNGdTVjljSTZRSWJzODU2N25rCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    client-key-data: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBcUQ5WkFIc2o5WTFkMzlLNGo3N1hUOWJRanRtd2k4UzlaU2krYnltYVo2Si92bEJyCm1MZ20yTjhkeFYrc0ZlbEQzVjlFekVlcmpsY1g5WVQybHFRS3R6cmpua0lTUGphRzlkYTcvdU9oS2ZET1Ric0oKdEJwNWJHL1dSNmVFOEJheXlKVGxwa3I1RjlwQzVuRHpSdENCcDhoYUh5bDUveFFJRjFuenFMWllkb1BJUUNHUwppU1o4TGx6clRGUk0yeHlzZmJqaHJ0UEs0bXY2UWplOHU1NHdrNEFBTHdENEpiTDZSNXd5enlSRVdhaGpyeHFjCkhVM1ltc0ZmRHBRMkN1UXA2eUwyWkpyUisycVdIdDZXYWwzM2Nuby9mQ2h4K2szZndCc3ZoMnJtbGpNMzhkVkgKUW5qRENOc2xNd0Jsb0FaUDY4cjhTU1NSak83OGJ1SUVtWFcwYXdJREFRQUJBb0lCQUdyZmdvdTVyUWZuK3IrWQp2VUFpTytjdFQySE9pa1RlZm1ocHp6NFJzVkV2ZWZITVoreWszWmhaY2pIVUtoM3BCUUR6NldIU0RQbm4vUUlxCnFmRGExeXU1THFseTB0L09CMERXWEtqMnM0Tk93ZDNDZDlGK0Y2OTRBeWVWRSs3bW5ENnB4bzh4aExWUUlicjcKK0t6OCtiODRsM2JBQkF5eURzbTJpLzZaaGV3UmxqcjlIank0OWlmTktaNTNzZkhHN3krR1doak1SNWJKaHVlRQp2K0NOcC9aUGo0SEYxdjlPanlNTUVKdmRZd0V5Q0p0azJJS0hDU0E3K3orZVdMRHVzM3hlRktjQ2FVdHZqbHpuCi9kc3dFOUZqV3VYRnQvTFVKY09ZQ2hWcDRBUkdmcEhjRHlWSVgxNmk3citzNG9iV1NURm1XYzBrVHFzQkNXRmEKOUl5WDJMRUNnWUVBeWgzSWd2UzkzMmJQR2Y1OWZtamFUL0tSRFVEVkxsZVM0b2FxZVpRUCt6WC90RUF5TnVTaQp4d3NFRHAvWE5VNzQ1RGhuT3d3UFNWbGlCc3dKcW1jRnJnS0NBSGdMMlcxWW8rb3BCME9QcHFKcStYQkxiNkZhCmVtV2JrTE13Q0JpclFVUVRBVkNRbWUyMTVlVGFvUklyQ25QR1Y0USs2UUV0U3ZybVk1eEZzaDBDZ1lFQTFSb00KMlkxT0NxUGtQcmQzTVY1M0N6SkROWlZTNnVSQTY5Z1FCdkdhZXNGaUFYZXlrdFRTOWluRkMrVWdlRjJEQUlHbQpaNDE5YUtFV1hlSUk2Zm45T244N0FtbTNrVVU0REpKYzBZaUxpZ2UzaURVQzZuVzBiMEZ5Y0NWajRIdFozK3g2Cm9GdU9oZElXc0hOZzJaK3NLcXZ2TEw5L1MrUU5PdTFJdmpuaE9pY0NnWUFUd2x1aTZkaFNLZFBmWDdEWEZkc1oKNjhYZ2ZORWFpYmN6YkNUb1krQTRGK3hhcTlmODQ5ZENERUttUjF3YnV3KzhDQU9Ya3pNL1lYeWkyM21xYmczeApHQStyaWhEbWZia250VEd6b3hnOUd5M0lHd0ZVOVhwSjh2c0ZaMjh2cTNHNm5MUWE4Y3hoTUFzVFlZODZKZk9OClB3cEo3Z1RVZEtmLzU0MTBlWWVheFFLQmdRREFob1YvY3d0RHo2ZmhCWTNZKzNoZmxDeG1WNThPK2VLeGNJV2kKVUZyNWRvY2R2aytHR21MeDVQRFIrMUtuakF4VHc4NWNGZGRzVk1USlV2SXN1UjhQMzJ5bmxHMDFBSzFQcGxmWApNaDZuT0t1V2toWXRUdVFSODdYNUhiNnJTNlg2Q1VNTVowdFBHV3hJUkNVRzJCd0tmVVZiVHpNcGxFSmpyNGFkCjNkcmUxd0tCZ1FDK09ORis3cGNRM3ppL1k5Q1NJa0N1M0RjRklBZjN2cEZPcFh1V1pjUmxTU1E1M3BjY3YydzYKYjJkbWpoYzQvcnBSMVZOcCt1eTJlZm9BaUZJVTJZZDZZYitWcU9hUE8yM29rZjgzNlpmY0MrcHlSeU1xelFuRApvOEJsZXl6bXdGWEpRdHloNC9hZEN6Y0dtVTZPZG5aR3FpRHFyMEp5RWk3YzQzazZZT241dFE9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=
#endkubecertetc
